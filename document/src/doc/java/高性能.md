
#### 高性能
服务拆分：按业务、系统、读写、实时离线维度将服务拆分成更细的粒度。
分布式服务：同一应用部署在多台机器，通过负载均衡策略分发请求。
并发：合理多线程数量，线程利用率，减少线程阻塞（blocked）和等待（waiting）频繁切换带来的开销；
异步：异步队列（生产者消费者）、异步日志log4j2、异步发消息、dubbo future异步
锁优化：synchronized-》reentrantlock-》CAS -》disruptor
多级缓存：本地缓存、分布式缓存（登录预加载，指标缓存）
批量：批量写hbase、MongoDB、mysql数据库
读写分离：1. 数据存储层面读写分离；2. 通过消费kafka消息异步写入
数据聚合：指标查询场景，通过实时任务对数据进行聚合统计，而不是查询时统计。
实时离线分离：在服务接口、数据存储、数据处理层面将离线批量处理逻辑与实时处理逻辑分离。
连接池：http连接池，数据库连接池。避免频繁建立连接和断开连接。绿码服务使用CloseableHttpClient，并调整重试策略（）
预处理：**登录**预加载缓存、**热点数据**提前加载缓存。
高性能脚本引擎
采用自研编译型脚本引擎替换解释型的jexl引擎；多个小脚本合并成大脚本；本地缓存实例；每个脚本单独ClassLoader，避免共用同一个ClassLoader导致脚本class无法被卸载。调整JIT codeCache出事大小和预留大小。

#### 高可用
优先级：设置线程priority优先级属性，实现不同业务的处理优先级。
幂等：对于写入场景，同一个请求被consumer多次调用，产生的影响与一次调用一致。  
超时：合理控制接口时间，快速失败。
重试：对于**查询**接口偶尔出现超时，选择另一个节点进行重新调用。
隔离：信号量隔离；线程池隔离；dubbo接口提供者自定义ExecuteLimitFilter，根据请求参数限制每个业务场景分配的线程数；
限流：信号量Semaphore限流；原子计数器AtomicLong限流；guava ratelimitor限流（令牌桶）；dubbo限流器DefaultTPSLimiter（漏桶）
熔断：对于频繁超时的非核心应用直接短路，并尝试恢复的机制。底层依赖hystrix实现。
降级：dubbo mock配置降级策略和默认值；hystrix配置降级；大促期间，手动配置业务降级；
补偿：失败数据保存消息队列或本地日志文件，事后特殊处理或人工手动维护。
业务监控
系统监控
报警



发布流程
灰度发布
线上配置
功能开关
代码回滚

